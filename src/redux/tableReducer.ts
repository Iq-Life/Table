import {v1} from "uuid";

export const initialPeople: Array<StudentType> = [
    {
        id: v1(), firstName: 'Иван', lastName: 'Фирстов', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Олег', lastName: 'Куплинов', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Дмитрий', lastName: 'Дадарчук', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Павел', lastName: 'Вавилин', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Лиза', lastName: 'Подопригора', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Евгения', lastName: 'Зайцева', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Кирилл', lastName: 'Вавилин', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Александра', lastName: 'Комарова', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Иван', lastName: 'Бакалейщиков', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Анастасия', lastName: 'Фирстова', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Глеб', lastName: 'Радионов', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Валерия', lastName: 'Тарасова', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Ганзель', lastName: 'Фирстов', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Илья', lastName: 'Вавилин', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Анна', lastName: 'Ермошина', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Богдан', lastName: 'Римов', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Рудольф', lastName: 'Адольфовинов', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Павел', lastName: 'Кураев', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Сергей', lastName: 'Запределькин', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Сергей', lastName: 'Мамонов', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Александр', lastName: 'Киркоров', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Евгения', lastName: 'Бирова', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Роман', lastName: 'Кудрявцев', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
    {
        id: v1(), firstName: 'Юлия', lastName: 'Ахламонова', class: 1, lesson: "Математика",
        grades: ['н', '.', 3, 4, 3, 4, 'н', 2, 5, '.', '.', 5, 5, 5, 5], finalAssessment: 5
    },
]

export const StudentsReducer = (state = initialPeople, action: ActionTypes): StudentType[] => {
    switch (action.type) {
        case "ADD_STUDENT" : {
            return [...state, action.Student]
        }
        case "REMOVE_STUDENT" : {
            return state.filter((s) => s.id !== action.id)
        }
        case "CHANGE_FIRST_NAME": {
            return state.map((s) => s.id === action.id ? {...s, firstName: action.value} : s)
        }
        case "CHANGE_LAST_NAME": {
            return state.map((s) => s.id === action.id ? {...s, lastName: action.value} : s)
        }
        case "SORT_FIRST_NAME":{

            return [...state].sort((a,b) => a.firstName.localeCompare(b.firstName))
        }
        case "SORT_LAST_NAME":{
            return state
        }
        default:
            return state
    }
}

export const addStudent = (Student: StudentType) => {
    return {type: "ADD_STUDENT", Student} as const
}
export const removeStudent = (id: string) => {
    return {type: "REMOVE_STUDENT", id} as const
}
export const changeFirstNameAC = (id: string, value: string) => {
    return {type: "CHANGE_FIRST_NAME", id, value} as const
}
export const changeLastNameAC = (id: string, value: string) => {
    return {type: "CHANGE_LAST_NAME", id, value} as const
}
export const sortFirstNameAC = () => {
    return {type: "SORT_FIRST_NAME"} as const
}
export const sortLastNameAC = () => {
    return {type: "SORT_LAST_NAME"} as const
}

//types
type ActionTypes = ReturnType<typeof addStudent> | ReturnType<typeof removeStudent> |
    ReturnType<typeof changeFirstNameAC> | ReturnType<typeof changeLastNameAC>|
    ReturnType<typeof sortFirstNameAC> | ReturnType<typeof sortLastNameAC>
export type StudentType = {
    id: string
    firstName: string
    lastName: string
    class: number
    lesson: string
    grades: gradesType[]
    finalAssessment: number
}
type gradesType = 'н' | number | '.'